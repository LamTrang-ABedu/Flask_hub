<!DOCTYPE html>
<html>
<head>
    <title>X.com Media Preview</title>
</head>
<body>
    <h2>Enter X Username</h2>
    <input id="username" placeholder="e.g. realgirlsvids" />
    <button onclick="load()">Load</button>
    <div id="results"></div>

<script>
async function load() {
    const username = document.getElementById("username").value;
    const res = await fetch("/api/x-gallery?username=" + username);
    const data = await res.json();
    const div = document.getElementById("results");
    div.innerHTML = "";

    if (data.status !== "ok") {
        div.innerHTML = "<p>Failed: " + data.message + "</p>";
        return;
    }

    data.results.forEach(item => {
        const block = document.createElement("div");
        block.innerHTML = `
            <p>${item.title}</p>
            ${item.video ? 
                `<video controls width="400" src="${item.video}"></video>` :
                `<img src="${item.thumb}" width="400"/>`}
            <hr/>
        `;
        div.appendChild(block);
    });
}
</script>
</body>
</html>